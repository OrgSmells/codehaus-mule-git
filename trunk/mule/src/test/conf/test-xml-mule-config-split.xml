<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mule-configuration PUBLIC "-//Cubis //DTD mule-configuration XML V1.0//EN"
                                "http://www.cubis.co.uk/dtds/mule-configuration.dtd">


<mule-configuration id="Test_Mule_Properties" version="1.0">
    <mule-descriptor name="appleComponent2"
        implementation="org.mule.tck.testmodels.fruit.Apple">

        <inbound-router>
            <endpoint name="nonTransactedInboundEndpoint" address="test://endpoint.in3"/>
            <endpoint name="transactedInboundEndpoint" createConnector="ALWAYS_CREATE" type="receiver" address="test://endpoint.in2">
                <transaction factory="org.mule.tck.testmodels.mule.TestTransactionFactory" action="ALWAYS_BEGIN"/>
                <properties>
                    <property name="testEndpointProperty" value="Prop1"/>
                </properties>
            </endpoint>
        </inbound-router>

        <outbound-router>
            <router className="org.mule.routing.outbound.FilteringOutboundRouter">
                <endpoint name="transactedOutboundEndpoint" type="sender" address="test://endpoint.out">
                    <transaction commitAction="ALWAYS_COMMIT">
                        <constraint batchSize="3" className="org.mule.transaction.constraints.BatchConstraint"/>
                    </transaction>
                </endpoint>
            </router>
        </outbound-router>

        <interceptor className="org.mule.interceptors.LoggingInterceptor"/>
        <threading-profile maxBufferSize="6" maxThreadsActive="12" maxThreadsIdle="6"/>
        <pooling-profile exhaustedAction="WAIT" initialisationPolicy="INITIALISE_ALL"/>
        <queue-profile maxOutstandingMessages="102"/>
    </mule-descriptor>
</mule-configuration>

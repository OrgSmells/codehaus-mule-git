<!--
Assembly descriptor for the full Mule distribution.
-->
<assembly>
  <id>full</id>
  <formats>
    <format>zip</format>
    <format>tar.gz</format>
  </formats>

  <fileSets>
    <fileSet>
      <directory>../src/main/resources</directory>
      <outputDirectory></outputDirectory>
    </fileSet>

    <!-- Make binary directories executable. -->
    <fileSet>
      <directory>../src/main/resources/bin</directory>
      <outputDirectory>bin</outputDirectory>
      <fileMode>744</fileMode>
    </fileSet>
    <fileSet>
      <directory>../src/main/resources/sbin</directory>
      <outputDirectory>sbin</outputDirectory>
      <fileMode>744</fileMode>
    </fileSet>



      <!--
        ============================
            Mule Examples: Echo
        ============================
      -->
    <fileSet>
          <directory>../../../examples/echo</directory>
          <outputDirectory>examples/echo</outputDirectory>
      <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
      </excludes>
    </fileSet>


      <!--
        ==================================
            Mule Examples: Error Handler
        ==================================
      -->
      <fileSet>
          <directory>../../../examples/errorhandler</directory>
          <outputDirectory>examples/errorhandler</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/errorhandler/src/main/java</directory>
          <outputDirectory>examples/errorhandler/src</outputDirectory>
      </fileSet>

      <!--
        ============================
            Mule Examples: Hello
        ============================
      -->
      <fileSet>
          <directory>../../../examples/hello</directory>
          <outputDirectory>examples/hello</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/hello/src/main/java</directory>
          <outputDirectory>examples/hello/src</outputDirectory>
      </fileSet>


      <!--
        ===============================
            Mule Examples: Loan Broker
        ===============================
      -->
      <fileSet>
          <directory>../../../examples/loanbroker</directory>
          <outputDirectory>examples/loanbroker</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/loanbroker/src/main/java</directory>
          <outputDirectory>examples/loanbroker/src</outputDirectory>
      </fileSet>


      <!--
        ===================================
            Mule Examples: Loan Broker ESB
        ===================================
      -->
      <fileSet>
          <directory>../../../examples/loanbroker-esb</directory>
          <outputDirectory>examples/loanbroker-esb</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>credit-agency/**</exclude>
              <exclude>loanbroker/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/loanbroker-esb/loanbroker/src/main/java</directory>
          <outputDirectory>examples/loanbroker-esb/src/loanbroker</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/loanbroker-esb/loanbroker/src/main/resources</directory>
          <outputDirectory>examples/loanbroker-esb/src/loanbroker</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/loanbroker-esb/credit-agency/src/main/java</directory>
          <outputDirectory>examples/loanbroker-esb/src/credit-agency</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/loanbroker-esb/credit-agency/src/main/resources</directory>
          <outputDirectory>examples/loanbroker-esb/src/credit-agency</outputDirectory>
      </fileSet>


      <!--
        =============================
            Mule Examples: Scripting
        =============================
      -->
      <fileSet>
          <directory>../../../examples/scripting</directory>
          <outputDirectory>examples/scripting</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/scripting/src/main/java</directory>
          <outputDirectory>examples/scripting/src</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/scripting/src/main/resources</directory>
          <outputDirectory>examples/scripting/src</outputDirectory>
      </fileSet>


      <!--
        ===============================
            Mule Examples: Stock Quote
        ===============================
      -->
      <fileSet>
          <directory>../../../examples/stockquote</directory>
          <outputDirectory>examples/stockquote</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/stockquote/src/main/java</directory>
          <outputDirectory>examples/stockquote/src</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/stockquote/src/main/resources</directory>
          <outputDirectory>examples/stockquote/src</outputDirectory>
      </fileSet>


      <!--
        ================================
            Mule Examples: VoIP Service
        ================================
      -->
      <fileSet>
          <directory>../../../examples/voipservice</directory>
          <outputDirectory>examples/voipservice</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/voipservice/src/main/java</directory>
          <outputDirectory>examples/voipservice/src</outputDirectory>
      </fileSet>


      <!--
        ============================
            Mule Examples: Webapp
        ============================
      -->
      <fileSet>
          <directory>../../../examples/webapp</directory>
          <outputDirectory>examples/webapp</outputDirectory>
          <excludes>
              <exclude>.mule/**</exclude>
              <exclude>target/**</exclude>
              <!-- Will later re-map sources into a simpler non-m2 structure -->
              <exclude>src/**</exclude>
              <exclude>.project</exclude>
              <exclude>.classpath</exclude>
              <exclude>.settings</exclude>
              <exclude>*.iml</exclude>
              <exclude>pom.xml</exclude>
              <exclude>*.log</exclude>
          </excludes>
      </fileSet>

      <fileSet>
          <directory>../../../examples/webapp/src/main/java</directory>
          <outputDirectory>examples/webapp/src</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/webapp/src/main/resources</directory>
          <outputDirectory>examples/webapp/src</outputDirectory>
      </fileSet>

      <fileSet>
          <directory>../../../examples/webapp/src/main/java</directory>
          <outputDirectory>examples/webapp/web</outputDirectory>
      </fileSet>

    <!-- Copy the USAGE.txt file to the root directory for visibility -->
    <fileSet>
      <directory>../src/main/resources/bin</directory>
      <outputDirectory></outputDirectory>
      <includes>
          <include>USAGE.txt</include>
      </includes>
    </fileSet>

    <!-- Copy javadocs ("mvn site" must have been run previously) -->
    <!--<fileSet>-->
      <!--<directory>../../../target/site/apidocs</directory>-->
      <!--<outputDirectory>docs/api</outputDirectory>-->
    <!--</fileSet>-->

    <!-- OpenEJB needs a direct path to the openejb.conf file (i.e., it can't find it from within a jar) -->
    <fileSet>
      <directory>../../../examples/loanbroker-esb/loanbroker/src/main/resources</directory>
      <outputDirectory>lib/user</outputDirectory>
      <includes>
          <include>openejb.conf</include>
      </includes>
    </fileSet>
  </fileSets>

  <!-- Once http://jira.codehaus.org/browse/MASSEMBLY-41 is fixed, we should be able to
       replace the following lists with some clever wildcards. -->
  <dependencySets>
    <!-- Mule libraries -->
    <dependencySet>
      <outputDirectory>lib/mule</outputDirectory>
      <scope>runtime</scope>
      <includes>
        <!-- Core -->
        <include>org.mule:mule-core</include>
        <!-- Providers -->
        <include>org.mule:mule-axis-provider</include>
        <include>org.mule:mule-dq-provider</include>
        <include>org.mule:mule-ejb-provider</include>
        <include>org.mule:mule-email-provider</include>
        <include>org.mule:mule-file-provider</include>
        <include>org.mule:mule-ftp-provider</include>
        <include>org.mule:mule-gigaspaces-provider</include>
        <include>org.mule:mule-glue-provider</include>
        <include>org.mule:mule-http-provider</include>
        <include>org.mule:mule-jbi-provider</include>
        <include>org.mule:mule-jdbc-provider</include>
        <include>org.mule:mule-jms-provider</include>
        <include>org.mule:mule-multicast-provider</include>
        <include>org.mule:mule-oracle-jms-provider</include>
        <include>org.mule:mule-quartz-provider</include>
        <include>org.mule:mule-rmi-provider</include>
        <include>org.mule:mule-soap-provider</include>
        <include>org.mule:mule-space-provider</include>
        <include>org.mule:mule-ssl-provider</include>
        <include>org.mule:mule-stream-provider</include>
        <include>org.mule:mule-tcp-provider</include>
        <include>org.mule:mule-udp-provider</include>
        <include>org.mule:mule-vm-provider</include>
        <include>org.mule:mule-xfire-provider</include>
        <include>org.mule:mule-xmpp-provider</include>
        <!-- Modules -->
        <include>org.mule.modules:mule-module-ognl</include>
        <include>org.mule.modules:mule-module-acegi</include>
        <include>org.mule.modules:mule-module-boot</include>
        <include>org.mule.modules:mule-module-client</include>
        <include>org.mule.modules:mule-module-hivemind</include>
        <include>org.mule.modules:mule-module-i18n</include>
        <include>org.mule.modules:mule-module-jaas</include>
        <include>org.mule.modules:mule-module-jotm</include>
        <include>org.mule.modules:mule-module-pgp</include>
        <include>org.mule.modules:mule-module-picocontainer</include>
        <include>org.mule.modules:mule-module-plexus</include>
        <include>org.mule.modules:mule-module-scripting</include>
        <include>org.mule.modules:mule-module-spring</include>
      </includes>
    </dependencySet>

    <!-- Non-Mule libraries -->
    <dependencySet>
      <outputDirectory>lib/opt</outputDirectory>
      <scope>runtime</scope>
      <excludes>
        <!-- Core -->
        <exclude>org.mule:mule-core</exclude>
        <!-- Providers -->
        <exclude>org.mule:mule-axis-provider</exclude>
        <exclude>org.mule:mule-dq-provider</exclude>
        <exclude>org.mule:mule-ejb-provider</exclude>
        <exclude>org.mule:mule-email-provider</exclude>
        <exclude>org.mule:mule-file-provider</exclude>
        <exclude>org.mule:mule-ftp-provider</exclude>
        <exclude>org.mule:mule-gigaspaces-provider</exclude>
        <exclude>org.mule:mule-glue-provider</exclude>
        <exclude>org.mule:mule-http-provider</exclude>
        <exclude>org.mule:mule-jbi-provider</exclude>
        <exclude>org.mule:mule-jdbc-provider</exclude>
        <exclude>org.mule:mule-jms-provider</exclude>
        <exclude>org.mule:mule-multicast-provider</exclude>
        <exclude>org.mule:mule-oracle-jms-provider</exclude>
        <exclude>org.mule:mule-quartz-provider</exclude>
        <exclude>org.mule:mule-rmi-provider</exclude>
        <exclude>org.mule:mule-soap-provider</exclude>
        <exclude>org.mule:mule-space-provider</exclude>
        <exclude>org.mule:mule-ssl-provider</exclude>
        <exclude>org.mule:mule-stream-provider</exclude>
        <exclude>org.mule:mule-tcp-provider</exclude>
        <exclude>org.mule:mule-udp-provider</exclude>
        <exclude>org.mule:mule-vm-provider</exclude>
        <exclude>org.mule:mule-xfire-provider</exclude>
        <exclude>org.mule:mule-xmpp-provider</exclude>
        <!-- Modules -->
        <exclude>org.mule.modules:mule-module-ognl</exclude>
        <exclude>org.mule.modules:mule-module-boot</exclude>
        <exclude>org.mule.modules:mule-module-acegi</exclude>
        <exclude>org.mule.modules:mule-module-client</exclude>
        <exclude>org.mule.modules:mule-module-hivemind</exclude>
        <exclude>org.mule.modules:mule-module-i18n</exclude>
        <exclude>org.mule.modules:mule-module-jaas</exclude>
        <exclude>org.mule.modules:mule-module-jotm</exclude>
        <exclude>org.mule.modules:mule-module-pgp</exclude>
        <exclude>org.mule.modules:mule-module-picocontainer</exclude>
        <exclude>org.mule.modules:mule-module-plexus</exclude>
        <exclude>org.mule.modules:mule-module-scripting</exclude>
        <exclude>org.mule.modules:mule-module-spring</exclude>
        <!-- Examples -->
        <exclude>org.mule.examples:mule-example-echo</exclude>
        <exclude>org.mule.examples:mule-example-errorhandler</exclude>
        <exclude>org.mule.examples:mule-example-hello</exclude>
        <exclude>org.mule.examples:mule-example-loanbroker</exclude>
        <exclude>org.mule.examples:mule-example-loanbroker-esb</exclude>
        <exclude>org.mule.examples:mule-example-loanbroker-esb-credit-agency</exclude>
        <exclude>org.mule.examples:mule-example-scripting</exclude>
        <exclude>org.mule.examples:mule-example-stockquote</exclude>
        <exclude>org.mule.examples:mule-example-voipservice</exclude>
        <!-- Workaround, see comment for "<packaging>jar</packaging>" in the pom.xml -->
        <exclude>org.mule.distributions:mule-full</exclude>
      </excludes>
    </dependencySet>

    <!-- Mule examples -->
    <dependencySet>
      <outputDirectory>lib/user</outputDirectory>
      <scope>runtime</scope>
	  <!-- Don't put the version number in the examples.  -->
      <outputFileNameMapping>${artifactId}.${extension}</outputFileNameMapping>
      <includes>
        <include>org.mule.examples:mule-example-echo</include>
        <include>org.mule.examples:mule-example-errorhandler</include>
        <include>org.mule.examples:mule-example-hello</include>
        <include>org.mule.examples:mule-example-loanbroker</include>
        <include>org.mule.examples:mule-example-loanbroker-esb</include>
        <include>org.mule.examples:mule-example-loanbroker-esb-credit-agency</include>
        <include>org.mule.examples:mule-example-scripting</include>
        <include>org.mule.examples:mule-example-stockquote</include>
        <include>org.mule.examples:mule-example-voipservice</include>
      </includes>
    </dependencySet>
  </dependencySets>
</assembly>

<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mule-configuration PUBLIC "-//MuleSource //DTD mule-configuration XML V1.0//EN"
                                "http://mule.mulesource.org/dtds/mule-spring-configuration.dtd">


<mule-configuration id="Test_Mule_Properties" version="1.0">

    <connector name="dummyConnector" className="org.mule.tck.testmodels.mule.TestConnector">
        <threading-profile id="dispatcher" maxBufferSize="2"/>
        <exception-strategy className="org.mule.tck.testmodels.mule.TestExceptionStrategy"/>
        <connection-strategy className="org.mule.providers.SimpleRetryConnectionStrategy">
            <properties>
                <property name="retryCount" value="4"/>
                <property name="retryFrequency" value="3000"/>
            </properties>
        </connection-strategy>
    </connector>

    <transformers>
        <transformer name="TestCompressionTransformer" className="org.mule.tck.testmodels.mule.TestCompressionTransformer"
            returnClass="java.lang.String">
            <properties>
                <property name="org.mule.useManagerProperties" value="true"/>
                <property name="beanProperty2" value="12"/>
                <container-property name="containerProperty" reference="string"/>
            </properties>
        </transformer>
        <transformer name="Default" className="org.mule.transformers.NoActionTransformer" />
    </transformers>

    <global-endpoints>
        <endpoint name="fruitBowlEndpoint" address="test://fruitBowlPublishQ">
            <filter className="org.mule.routing.filters.xml.JXPathFilter" expression="name">
                <properties>
                    <property name="value" value="bar"/>
                    <map name="namespaces">
                        <property name="foo" value="http://foo.com"/>
                    </map>
                </properties>
            </filter>
        </endpoint>
        <endpoint name="waterMelonEndpoint" address="Test Queue"/>
        <endpoint name="appleInEndpoint" type="receiver" address="test://AppleQueue"/>
        <endpoint name="appleResponseEndpoint" type="receiver" address="test://AppleResponseQueue"/>
        <endpoint name="orangeEndpoint" address="test://orangeQ">
            <properties>
                <property name="testGlobal" value="value1"/>
            </properties>
        </endpoint>
    </global-endpoints>

    <model name="main">
        <entry-point-resolver className="org.mule.tck.testmodels.mule.TestEntryPointResolver"/>

        <component-lifecycle-adapter-factory className="org.mule.tck.testmodels.mule.TestDefaultLifecycleAdapterFactory"/>

        <exception-strategy className="org.mule.tck.testmodels.mule.TestExceptionStrategy">
            <endpoint address=" test://component.exceptions "/>
        </exception-strategy>

        
    </model>

    <!-- Test refs for several styles. -->
    <import resource="test-application-context.xml"/> 
    <import resource="classpath:test-application-context-2.xml"/> 
    
</mule-configuration>
